/*!
 * pixi-particles - v3.1.0
 * Compiled Thu, 25 Oct 2018 16:42:07 UTC
 *
 * pixi-particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.pixiParticles=t()}}(function(){return function(){function t(i,e,s){function n(a,o){if(!e[a]){if(!i[a]){var h="function"==typeof require&&require;if(!o&&h)return h(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var p=e[a]={exports:{}};i[a][0].call(p.exports,function(t){return n(i[a][1][t]||t)},p,p.exports,t,i,e,s)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<s.length;a++)n(s[a]);return n}return t}()({1:[function(t,i,e){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=t("./Particle"),r=PIXI.Texture,a=function(t){function i(i){var e=t.call(this,i)||this;return e.textures=null,e.duration=0,e.framerate=0,e.elapsed=0,e.loop=!1,e}return s(i,t),i.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},i.prototype.applyArt=function(t){this.textures=t.textures,this.framerate=t.framerate,this.duration=t.duration,this.loop=t.loop},i.prototype.update=function(t){var i=this.Particle_update(t);if(i>=0){this.elapsed+=t,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var e=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[e]||PIXI.Texture.EMPTY}return i},i.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},i.parseArt=function(t){for(var i,e,s,n,a,o=[],h=0;h<t.length;++h){i=t[h],o[h]=e={},e.textures=a=[],s=i.textures;for(var l=0;l<s.length;++l)if("string"==typeof(n=s[l]))a.push(r.fromImage(n));else if(n instanceof r)a.push(n);else{var p=n.count||1;for(n="string"==typeof n.texture?r.fromImage(n.texture):n.texture;p>0;--p)a.push(n)}"matchLife"==i.framerate?(e.framerate=-1,e.duration=0,e.loop=!1):(e.loop=!!i.loop,e.framerate=i.framerate>0?i.framerate:60,e.duration=a.length/e.framerate)}return o},i}(n.default);e.default=a},{"./Particle":4}],2:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,i,e){this._controlPoints=t,this._kAlpha=0==i?0:i||.5,this._pointsPerSegment=e||50,this._points=[],this._dirty=!0}return t.mergeUnique=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var e,s,n,r={},a=[];for(s=0;s<t.length;s++)for(n=0;n<t[s].length;n++)e=t[s][n].x+"_"+t[s][n].y,!0!==r[e]&&(r[e]=!0,a[a.length]=t[s][n]);return a},t.pointDistance=function(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))},t.pointAngle=function(t,i){return Math.atan2(i.x-t.x,i.y-t.y)},t.prototype.getNearest=function(i){for(var e,s=0,n=t.pointDistance(i,this._points[0]),r=0;r<this._points.length;r++){if(this._points[r].x===i.x&&this._points[r].y===i.y)return this._points[r];e=t.pointDistance(i,this._points[r]),n>e&&(s=r,n=e)}return this._points[s]},t.prototype.getIndex=function(t){var i=this._points.length*(t%1);return i<0&&(i=this._points.length+i),Math.floor(i)},t.prototype.getNormals=function(i){var e=this._points[0===i?this._points.length-1:i-1],s=this._points[i===this._points.length-1?0:i+1],n=t.pointDistance(e,s),r=(s.x-e.x)/n,a=(s.y-e.y)/n;return{toward:new PIXI.Point(-a,r),away:new PIXI.Point(a,-r)}},Object.defineProperty(t.prototype,"controlPoints",{get:function(){return this._dirty&&this.populate(),this._controlPoints},set:function(t){this._controlPoints=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"kAlpha",{get:function(){return this._dirty&&this.populate(),this._kAlpha},set:function(t){this._kAlpha!==t&&(this._kAlpha=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointsPerSegment",{get:function(){return this._dirty&&this.populate(),this._pointsPerSegment},set:function(t){this._pointsPerSegment!==t&&(this._pointsPerSegment=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this._dirty&&this.populate(),this._points},enumerable:!0,configurable:!0}),t.prototype.populate=function(){var i=this._controlPoints.length-1;this._points=this.catmullRomSpline(this._controlPoints[i],this._controlPoints[0],this._controlPoints[1],this._controlPoints[2]);for(var e=1;e<i-1;e++)this._points=t.mergeUnique(this._points,this.catmullRomSpline(this._controlPoints[e-1],this._controlPoints[e],this._controlPoints[e+1],this._controlPoints[e+2]));this._points=t.mergeUnique(this._points,this.catmullRomSpline(this._controlPoints[i-2],this._controlPoints[i-1],this._controlPoints[i],this._controlPoints[0]),this.catmullRomSpline(this._controlPoints[i-1],this._controlPoints[i],this._controlPoints[0],this._controlPoints[1])),this._dirty=!1},t.prototype.catmullRomSpline=function(t,i,e,s){function n(t,i,e,s){return Math.pow(Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),s)+t}function r(t,i,e,s,n){var r=(e-t)/(e-i)*s.x+(t-i)/(e-i)*n.x,a=(e-t)/(e-i)*s.y+(t-i)/(e-i)*n.y;return new PIXI.Point(r,a)}function a(t,i,e,s,n){var r=(e-t)/(e-i)*s.x+(t-i)/(e-i)*n.x,a=(e-t)/(e-i)*s.y+(t-i)/(e-i)*n.y;return new PIXI.Point(r,a)}var o,h,l,p;o=0,h=n(o,t,i,this._kAlpha),l=n(h,i,e,this._kAlpha),p=n(l,e,s,this._kAlpha);for(var c=function(t,i,e){for(var s=[t],n=(i-t)/(e-1);s.length<e-1;)s[s.length]=s[s.length-1]+n;return s[s.length]=i,s}(h,l,this._pointsPerSegment),u=[],f=0;f<c.length;f++)u[f]=function(n){var c=r(n,o,h,t,i),u=r(n,h,l,i,e),f=r(n,l,p,e,s),d=a(n,o,l,c,u),m=a(n,h,p,u,f),_=(l-n)/(l-h)*d.x+(n-h)/(l-h)*m.x,y=(l-n)/(l-h)*d.y+(n-h)/(l-h)*m.y;return new PIXI.Point(_,y)}(c[f]);return u},t}();e.default=s},{}],3:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("./ParticleUtils"),n=t("./Particle"),r=t("./PropertyNode"),a=PIXI.ticker.shared,o=t("./CatmullRom"),h=new PIXI.Point,l=function(){function t(t,i,e){this._particleConstructor=n.default,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.spawnSpline=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,i&&e&&this.init(i,e),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},set:function(t){this._frequency="number"==typeof t&&t>0?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!=this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var i=this._poolFirst;i;i=i.next)i.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t},enumerable:!0,configurable:!0}),t.prototype.init=function(t,i){if(t&&i){this.cleanup(),this._origConfig=i,this._origArt=t,t=Array.isArray(t)?t.slice():[t];var e=this._particleConstructor;this.particleImages=e.parseArt?e.parseArt(t):t,i.alpha?this.startAlpha=r.default.createList(i.alpha):this.startAlpha=new r.default(1,0),i.speed?(this.startSpeed=r.default.createList(i.speed),this.minimumSpeedMultiplier=i.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new r.default(0,0));var n=i.acceleration;n&&(n.x||n.y)?(this.startSpeed.next=null,this.acceleration=new PIXI.Point(n.x,n.y),this.maxSpeed=i.maxSpeed||NaN):this.acceleration=new PIXI.Point,i.scale?(this.startScale=r.default.createList(i.scale),this.minimumScaleMultiplier=i.scale.minimumScaleMultiplier||1):(this.startScale=new r.default(1,0),this.minimumScaleMultiplier=1),i.color?this.startColor=r.default.createList(i.color):this.startColor=new r.default({r:255,g:255,b:255},0),i.startRotation?(this.minStartRotation=i.startRotation.min,this.maxStartRotation=i.startRotation.max):this.minStartRotation=this.maxStartRotation=0,i.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!i.noRotation:this.noRotation=!1,i.rotationSpeed?(this.minRotationSpeed=i.rotationSpeed.min,this.maxRotationSpeed=i.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=i.lifetime.min,this.maxLifetime=i.lifetime.max,this.particleBlendMode=s.default.getBlendMode(i.blendMode),i.ease?this.customEase="function"==typeof i.ease?i.ease:s.default.generateEase(i.ease):this.customEase=null,e.parseData?this.extraData=e.parseData(i.extraData):this.extraData=i.extraData||null,this.spawnRect=this.spawnCircle=this.spawnSpline=null,this.particlesPerWave=1,i.particlesPerWave&&i.particlesPerWave>1&&(this.particlesPerWave=i.particlesPerWave),this.particleSpacing=0,this.angleStart=0;var a,h;switch(i.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var l=i.spawnRect;this.spawnRect=new PIXI.Rectangle(l.x,l.y,l.w,l.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,a=i.spawnCircle,this.spawnCircle=new PIXI.Circle(a.x,a.y,a.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,a=i.spawnCircle,this.spawnCircle=new PIXI.Circle(a.x,a.y,a.r),this.spawnCircle.minRadius=a.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=i.particleSpacing,this.angleStart=i.angleStart?i.angleStart:0;break;case"spline":this.spawnType="spline",this._spawnFunc=this._spawnSpline,h=i.spawnSpline,this.spawnSpline=new o.default(h.controlPoints,h.kAlpha,h.pointsPerSegment);break;case"point":default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=i.frequency,this.spawnChance="number"==typeof i.spawnChance&&i.spawnChance>0?i.spawnChance:1,this.emitterLifetime=i.emitterLifetime||-1,this.maxParticles=i.maxParticles>0?i.maxParticles:1e3,this.addAtBack=!!i.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(i.pos.x,i.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===i.emit||!!i.emit,this.autoUpdate=void 0!==i.autoUpdate&&!!i.autoUpdate}},t.prototype.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t==this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t==this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,t.parent&&t.parent.removeChild(t),--this.particleCount},t.prototype.rotate=function(t){if(this.rotation!=t){var i=t-this.rotation;this.rotation=t,s.default.rotatePoint(i,this.spawnPos),this._posChanged=!0}},t.prototype.updateSpawnPos=function(t,i){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=i},t.prototype.updateOwnerPos=function(t,i){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=i},t.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(t.prototype,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?a.remove(this.update,this):!this._autoUpdate&&t&&a.add(this.update,this),this._autoUpdate=!!t},enumerable:!0,configurable:!0}),t.prototype.playOnceAndDestroy=function(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t},t.prototype.playOnce=function(t){this.emit=!0,this._completeCallback=t},t.prototype.update=function(t){if(this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._parent){var i,e,s;for(e=this._activeParticlesFirst;e;e=s)s=e.next,e.update(t);var n,r;this._prevPosIsValid&&(n=this._prevEmitterPos.x,r=this._prevEmitterPos.y);var a=this.ownerPos.x+this.spawnPos.x,o=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t<0?0:t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var h=void 0;if(h=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<h){var l=void 0,p=void 0;if(this._prevPosIsValid&&this._posChanged){var c=1+this._spawnTimer/t;l=(a-n)*c+n,p=(o-r)*c+r}else l=a,p=o;i=0;for(var u=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);i<u;++i)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var f=void 0;if(this._poolFirst?(f=this._poolFirst,this._poolFirst=this._poolFirst.next,f.next=null):f=new this.particleConstructor(this),this.particleImages.length>1?f.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):f.applyArt(this.particleImages[0]),f.alphaList.reset(this.startAlpha),1!=this.minimumSpeedMultiplier&&(f.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),f.speedList.reset(this.startSpeed),f.acceleration.x=this.acceleration.x,f.acceleration.y=this.acceleration.y,f.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier&&(f.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),f.scaleList.reset(this.startScale),f.colorList.reset(this.startColor),this.minRotationSpeed==this.maxRotationSpeed?f.rotationSpeed=this.minRotationSpeed:f.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,f.noRotation=this.noRotation,f.maxLife=h,f.blendMode=this.particleBlendMode,f.ease=this.customEase,f.extraData=this.extraData,this._spawnFunc(f,l,p,i),f.init(),f.update(-this._spawnTimer),f.parent){var d=this._parent.children;if(d[0]==f)d.shift();else if(d[d.length-1]==f)d.pop();else{var m=d.indexOf(f);d.splice(m,1)}this.addAtBack?d.unshift(f):d.push(f)}else this.addAtBack?this._parent.addChildAt(f,0):this._parent.addChild(f);this._activeParticlesLast?(this._activeParticlesLast.next=f,f.prev=this._activeParticlesLast,this._activeParticlesLast=f):this._activeParticlesLast=this._activeParticlesFirst=f,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=a,this._prevEmitterPos.y=o,this._prevPosIsValid=!0,this._posChanged=!1),this._emit||this._activeParticlesFirst||(this._completeCallback&&this._completeCallback(),this._destroyWhenComplete&&this.destroy())}},t.prototype._spawnPoint=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=i,t.position.y=e},t.prototype._spawnRect=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,h.x=Math.random()*this.spawnRect.width+this.spawnRect.x,h.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&s.default.rotatePoint(this.rotation,h),t.position.x=i+h.x,t.position.y=e+h.y},t.prototype._spawnCircle=function(t,i,e){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,h.x=Math.random()*this.spawnCircle.radius,h.y=0,s.default.rotatePoint(360*Math.random(),h),h.x+=this.spawnCircle.x,h.y+=this.spawnCircle.y,0!==this.rotation&&s.default.rotatePoint(this.rotation,h),t.position.x=i+h.x,t.position.y=e+h.y},t.prototype._spawnRing=function(t,i,e){var n=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,n.minRadius!==n.radius?h.x=Math.random()*(n.radius-n.minRadius)+n.minRadius:h.x=n.radius,h.y=0;var r=360*Math.random();t.rotation+=r,s.default.rotatePoint(r,h),h.x+=this.spawnCircle.x,h.y+=this.spawnCircle.y,0!==this.rotation&&s.default.rotatePoint(this.rotation,h),t.position.x=i+h.x,t.position.y=e+h.y},t.prototype._spawnSpline=function(t,i,e){var n=this.spawnSpline;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation;var r=n.getIndex(Math.random());h.x=n.points[r].x,h.y=n.points[r].y;var a=n.getNormals(r).away;t.rotation+=PIXI.RAD_TO_DEG*Math.atan2(a.y,a.x),0!==this.rotation&&s.default.rotatePoint(this.rotation,h),t.position.x=i+h.x,t.position.y=e+h.y},t.prototype._spawnBurst=function(t,i,e,s){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*s+this.rotation,t.position.x=i,t.position.y=e},t.prototype.cleanup=function(){var t,i;for(t=this._activeParticlesFirst;t;t=i)i=t.next,this.recycle(t),t.parent&&t.parent.removeChild(t);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},t.prototype.destroy=function(){this.autoUpdate=!1,this.cleanup();for(var t,i=this._poolFirst;i;i=t)t=i.next,i.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},t}();e.default=l},{"./CatmullRom":2,"./Particle":4,"./ParticleUtils":5,"./PropertyNode":8}],4:[function(t,i,e){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=t("./ParticleUtils"),r=t("./PropertyList"),a=PIXI.Sprite,o=function(t){function i(e){var s=t.call(this)||this;return s.emitter=e,s.anchor.x=s.anchor.y=.5,s.velocity=new PIXI.Point,s.maxLife=0,s.age=0,s.ease=null,s.extraData=null,s.alphaList=new r.default,s.speedList=new r.default,s.speedMultiplier=1,s.acceleration=new PIXI.Point,s.maxSpeed=NaN,s.scaleList=new r.default,s.scaleMultiplier=1,s.colorList=new r.default(!0),s._doAlpha=!1,s._doScale=!1,s._doSpeed=!1,s._doAcceleration=!1,s._doColor=!1,s._doNormalMovement=!1,s._oneOverLife=0,s.next=null,s.prev=null,s.init=s.init,s.Particle_init=i.prototype.init,s.update=s.update,s.Particle_update=i.prototype.update,s.Sprite_destroy=t.prototype.destroy,s.Particle_destroy=i.prototype.destroy,s.applyArt=s.applyArt,s.kill=s.kill,s}return s(i,t),i.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,n.default.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=n.default.DEG_TO_RADS,this.rotationSpeed*=n.default.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.speedList.current.value||this._doAcceleration,this._oneOverLife=1/this.maxLife;var t=this.colorList.current.value;this.tint=n.default.combineRGBComponents(t.r,t.g,t.b),this.visible=!0},i.prototype.applyArt=function(t){this.texture=t||PIXI.Texture.EMPTY},i.prototype.update=function(t){if(this.age+=t,this.age>=this.maxLife||this.age<0)return this.kill(),-1;var i=this.age*this._oneOverLife;if(this.ease&&(i=4==this.ease.length?this.ease(i,0,1,1):this.ease(i)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(i)),this._doScale){var e=this.scaleList.interpolate(i)*this.scaleMultiplier;this.scale.x=this.scale.y=e}if(this._doNormalMovement){if(this._doSpeed){var s=this.speedList.interpolate(i)*this.speedMultiplier;n.default.normalize(this.velocity),n.default.scaleBy(this.velocity,s)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,this.maxSpeed)){var r=n.default.length(this.velocity);r>this.maxSpeed&&n.default.scaleBy(this.velocity,this.maxSpeed/r)}this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}return this._doColor&&(this.tint=this.colorList.interpolate(i)),0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),i},i.prototype.kill=function(){this.emitter.recycle(this)},i.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},i.parseArt=function(t){var i;for(i=t.length;i>=0;--i)"string"==typeof t[i]&&(t[i]=PIXI.Texture.fromImage(t[i]));if(n.default.verbose)for(i=t.length-1;i>0;--i)if(t[i].baseTexture!=t[i-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return t},i.parseData=function(t){return t},i}(a);e.default=o},{"./ParticleUtils":5,"./PropertyList":7}],5:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=PIXI.BLEND_MODES,n=t("./PropertyNode"),r={verbose:!1,DEG_TO_RADS:Math.PI/180,rotatePoint:function(t,i){if(t){t*=r.DEG_TO_RADS;var e=Math.sin(t),s=Math.cos(t),n=i.x*s-i.y*e,a=i.x*e+i.y*s;i.x=n,i.y=a}},combineRGBComponents:function(t,i,e){return t<<16|i<<8|e},normalize:function(t){var i=1/r.length(t);t.x*=i,t.y*=i},scaleBy:function(t,i){t.x*=i,t.y*=i},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},hexToRGB:function(t,i){i||(i={}),"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2));var e;return 8==t.length&&(e=t.substr(0,2),t=t.substr(2)),i.r=parseInt(t.substr(0,2),16),i.g=parseInt(t.substr(2,2),16),i.b=parseInt(t.substr(4,2),16),e&&(i.a=parseInt(e,16)),i},generateEase:function(t){var i=t.length,e=1/i;return function(s){var n,r,a=i*s|0;return n=(s-a*e)*i,r=t[a]||t[i-1],r.s+n*(2*(1-n)*(r.cp-r.s)+n*(r.e-r.s))}},getBlendMode:function(t){if(!t)return s.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return s[t]||s.NORMAL},createSteppedGradient:function(t,i){void 0===i&&(i=10),("number"!=typeof i||i<=0)&&(i=10);var e=new n.default(t[0].value,t[0].time);e.isStepped=!0;for(var s=e,a=t[0],o=1,h=t[o],l=1;l<i;++l){for(var p=l/i;p>h.time;)a=h,h=t[++o];p=(p-a.time)/(h.time-a.time);var c=r.hexToRGB(a.value),u=r.hexToRGB(h.value),f={};f.r=(u.r-c.r)*p+c.r,f.g=(u.g-c.g)*p+c.g,f.b=(u.b-c.b)*p+c.b,s.next=new n.default(f,l/i),s=s.next}return e}};e.default=r},{"./PropertyNode":8}],6:[function(t,i,e){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])};return function(i,e){function s(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=t("./ParticleUtils"),r=t("./Particle"),a=new PIXI.Point,o=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],h=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(o).join("|"),"g"),l=function(t){for(var i=t.match(h),e=i.length-1;e>=0;--e)o.indexOf(i[e])>=0&&(i[e]="Math."+i[e]);return t=i.join(""),new Function("x","return "+t+";")},p=function(t){function i(i){var e=t.call(this,i)||this;return e.path=null,e.initialRotation=0,e.initialPosition=new PIXI.Point,e.movement=0,e}return s(i,t),i.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},i.prototype.update=function(t){var i=this.Particle_update(t);if(i>=0&&this.path){var e=this.speedList.interpolate(i)*this.speedMultiplier;this.movement+=e*t,a.x=this.movement,a.y=this.path(this.movement),n.default.rotatePoint(this.initialRotation,a),this.position.x=this.initialPosition.x+a.x,this.position.y=this.initialPosition.y+a.y}return i},i.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},i.parseArt=function(t){return r.default.parseArt(t)},i.parseData=function(t){var i={};if(t&&t.path)try{i.path=l(t.path)}catch(t){n.default.verbose&&console.error("PathParticle: error in parsing path expression"),i.path=null}else n.default.verbose&&console.error("PathParticle requires a path string in extraData!"),i.path=null;return i},i}(r.default);e.default=p},{"./Particle":4,"./ParticleUtils":5}],7:[function(t,i,e){"use strict";function s(t){return this.ease&&(t=this.ease(t)),(this.next.value-this.current.value)*t+this.current.value}function n(t){this.ease&&(t=this.ease(t));var i=this.current.value,e=this.next.value,s=(e.r-i.r)*t+i.r,n=(e.g-i.g)*t+i.g,r=(e.b-i.b)*t+i.b;return l.default.combineRGBComponents(s,n,r)}function r(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;return t=(t-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*t+this.current.value}function a(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;t=(t-this.current.time)/(this.next.time-this.current.time);var i=this.current.value,e=this.next.value,s=(e.r-i.r)*t+i.r,n=(e.g-i.g)*t+i.g,r=(e.b-i.b)*t+i.b;return l.default.combineRGBComponents(s,n,r)}function o(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function h(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;var i=this.current.value;return l.default.combineRGBComponents(i.r,i.g,i.b)}Object.defineProperty(e,"__esModule",{value:!0});var l=t("./ParticleUtils"),p=function(){function t(t){void 0===t&&(t=!1),this.current=null,this.next=null,this.isColor=!!t,this.interpolate=null,this.ease=null}return t.prototype.reset=function(t){this.current=t,this.next=t.next,this.next&&this.next.time>=1?this.interpolate=this.isColor?n:s:t.isStepped?this.interpolate=this.isColor?h:o:this.interpolate=this.isColor?a:r,this.ease=this.current.ease},t}();e.default=p},{"./ParticleUtils":5}],8:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("./ParticleUtils"),n=function(){function t(t,i,e){this.value="string"==typeof t?s.default.hexToRGB(t):t,this.time=i,this.next=null,this.isStepped=!1,this.ease=e?"function"==typeof e?e:s.default.generateEase(e):null}return t.createList=function(i){if(Array.isArray(i.list)){var e=i.list,s=void 0,n=void 0;if(n=s=new t(e[0].value,e[0].time,i.ease),e.length>2||2===e.length&&e[1].value!==e[0].value)for(var r=1;r<e.length;++r)s.next=new t(e[r].value,e[r].time),s=s.next;return n.isStepped=!!i.isStepped,n}var a=new t(i.start,0);return i.end!==i.start&&(a.next=new t(i.end,1)),a},t}();e.default=n},{"./ParticleUtils":5}],9:[function(t,i,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("./ParticleUtils.js");e.ParticleUtils=s.default;var n=t("./Particle.js");e.Particle=n.default;var r=t("./Emitter.js");e.Emitter=r.default;var a=t("./PathParticle.js");e.PathParticle=a.default;var o=t("./AnimatedParticle.js");e.AnimatedParticle=o.default;var h=t("./CatmullRom.js");e.CatmullRom=h.default},{"./AnimatedParticle.js":1,"./CatmullRom.js":2,"./Emitter.js":3,"./Particle.js":4,"./ParticleUtils.js":5,"./PathParticle.js":6}],10:[function(t,i,e){"use strict";if(Object.defineProperty(e,"__esModule",{value:!0}),"undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";PIXI.particles||(PIXI.particles={});var s=t("./particles");for(var n in s)PIXI.particles[n]=s[n];void 0!==i&&i.exports&&(i.exports=s)},{"./particles":9}]},{},[10])(10)});
//# sourceMappingURL=pixi-particles.min.js.map
